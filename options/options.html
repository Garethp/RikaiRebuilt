<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">

    <link rel="stylesheet" type="text/css" href="bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="options.css"/>
    <style>

        html body {
            background: none;
        }
    </style>
</head>

<body>
<div class="container">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="general-tab" data-toggle="tab" href="#general" role="tab"
               aria-controls="general" aria-selected="true">
                General
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" id="startup-tab" data-toggle="tab" href="#startup" role="tab"
               aria-controls="startup">
                Startup
            </a>
        </li>

        <li class="nav-item">
            <a class="nav-link" id="keyboard-tab" data-toggle="tab" href="#keyboard" role="tab"
               aria-controls="keyboard">
                Keyboard
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="dictionaries-tab" data-toggle="tab" href="#dictionaries" role="tab"
               aria-controls="dictionaries" aria-selected="false">
                Dictionaries
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="kanji-dictionary-tab" data-toggle="tab" href="#kanji-dictionary" role="tab"
               aria-controls="kanji-dictionary" aria-selected="false">
                Kanji Dictionary
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="epwing-tab" data-toggle="tab" href="#epwing" role="tab"
               aria-controls="epwing" aria-selected="false">
                Epwing Dictionary
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="anki-tab" data-toggle="tab" href="#anki" role="tab" aria-controls="anki"
               aria-selected="false">
                Anki Import
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="changelog-tab" data-toggle="tab" href="#changelog" role="tab"
               aria-controls="changelog" aria-selected="false">
                Changelog
            </a>
        </li>
    </ul>

    <div class="tab-content card card-body" id="myTabContent">
        <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
            <div class="form-group row">
                <div class="col-3">
                    <label class="col-form-label" for="theme">Theme</label>
                </div>
                <div class="col-9">
                    <select id="theme" data-config-option="theme">
                        <option value="blue">Blue</option>
                        <option value="light-blue">Light Blue</option>
                        <option value="black">Black</option>
                        <option value="yellow">Yellow</option>
                    </select>
                </div>

                <div class="col-3">
                    <label class="col-form-label" for="volume">Audio Volume</label>
                </div>
                <div class="col-9">
                    <input type="number" min=0 max=100 id="volume" data-config-option="audioVolume"/>
                </div>

                <div class="col-3">
                    <label
                            title="With this selected, the changelog page will automatically open in a new tab whenever RikaiRebuilt updates, so you know what's added"
                            class="col-form-label"
                            for="openChangelogOnUpdate">Open Changelog on Update</label>
                </div>
                <div class="col-9">
                    <input class="form-check-input" type="checkbox" id="openChangelogOnUpdate"
                           data-config-option="openChangelogOnUpdate"/>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="startup" role="tabpanel" aria-labelledby="startup-tab">
            <div class="row">
                <div class="col-3">
                    <label title="Enable sanseido mode when RikaiRebuilt is started" for="startWithSanseido"
                           class="col-form-label">Startup in Sanseido Mode</label>
                </div>
                <div class="col-9">
                    <input class="form-check-input" type="checkbox" id="startWithSanseido"
                           data-config-option="startWithSanseido"/>
                </div>
            </div>
            <div class="row">
                <div class="col-3">
                    <label title="Enable EPWING mode when RikaiRebuilt is started" for="startWithEpwing"
                           class="col-form-label">Startup in EPWING Mode</label>
                </div>
                <div class="col-9">
                    <input class="form-check-input" type="checkbox" id="startWithEpwing"
                           data-config-option="startWithEpwing"/>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="keyboard" role="tabpanel" aria-labelledby="keyboard-tab">
            <h4><b>Keymap</b></h4>
            <form class="">
                <div class="row">
                    <div class="col-4">
                        <label class="my1-1 mr-2" for="keymap-toggleEpwingMode">Toggle Epwing Mode</label>
                    </div>
                    <div class="col-3">
                        <input type="text" class="form-control keymap-input" id="keymap-toggleEpwingMode" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-4">
                        <label class="my-1 mr-2" for="keymap-toggleSanseidoMode">Toggle Sanseido Mode</label>
                    </div>
                    <div class="col-3">
                        <input type="text" class="form-control keymap-input" id="keymap-toggleSanseidoMode"/>
                    </div>
                </div>

                <div class="row">
                    <div class="col-4"><label class="my-1 mr-2" for="keymap-sendToAnki">Real-Time Anki
                        Import</label></div>
                    <div class="col-3"><input type="input" class="form-control keymap-input"
                                              id="keymap-sendToAnki"/></div>
                </div>

                <div class="row">
                    <div class="col-4"><label class="my-1 mr-2" for="keymap-playAudio">Play JDIC Audio</label></div>
                    <div class="col-3"><input type="input" class="form-control keymap-input" id="keymap-playAudio"/>
                    </div>
                </div>

                <div class="row">
                    <div class="col-4"><label class="my-1 mr-2" for="keymap-selectNextDictionary">Select Next
                        Dictionary</label></div>
                    <div class="col-3"><input type="input" class="form-control keymap-input"
                                              id="keymap-selectNextDictionary"/></div>
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="dictionaries" role="tabpanel" aria-labelledby="dictionaries-tab">
            <h4><b>Dictionaries</b></h4>
            <form>
                <div class="card card-body">
                    <span id="installedDictionaries">You have no dictionaries</span>
                    <hr/>
                    <span id="recommendedDictionaries"></span>
                </div>

                <div class="form-group row">
                    <div class="col-3">
                        <label title="Show frequency information" for="showFrequency" class="col-form-label">Show
                            Frequency Information</label>
                    </div>
                    <div class="col-9">
                        <input class="form-check-input" type="checkbox" id="showFrequency"
                               data-config-option="showFrequency"/>
                    </div>

                    <div class="col-3">
                        <label title="Show pitch accent" for="showPitch" class="col-form-label">Show Pitch
                            Accent</label>
                    </div>
                    <div class="col-9">
                        <input class="form-check-inline" type="checkbox" id="showPitch"
                               data-config-option="showPitchAccent"/>
                    </div>

                    <div class="col-3">
                        <label title="Hide the definition of the word when showing the popup" class="col-form-label"
                               for="hideDefinitions">Hide Definitions</label></div>
                    <div class="col-9">
                        <input class="form-check-input" type="checkbox" value="" id="hideDefinitions"
                               data-config-option="hideDefinitions"/>
                    </div>
                    <div class="col-3">
                        <label title="Hide X-Rated Dictionary Definitions" class="col-form-label"
                               for="hideXDefinitions">Hide X-Rated Dictionary Definitions</label>
                    </div>
                    <div class="col-9">
                        <input class="form-check-input" type="checkbox" id="hideXDefinitions"
                               data-config-option="hideXRatedEntries"/>
                    </div>
                </div>
                <div class="form-group row">

                    <div class="col-3 col-form-label">
                        <label for="maxEntries">Maximum Definitions to show</label>
                    </div>
                    <div class="col-3">
                        <input class="form-control" type="text" data-config-option="maxEntries" id="maxEntries"
                               data-config-map="makeInt"/>
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-3 col-form-label">
                        <label for="nameMax">Maximum Names to show</label>
                    </div>
                    <div class="col-3">
                        <input class="form-control" type="text" data-config-option="nameMax" id="nameMax"
                               data-config-map="makeInt"/>
                    </div>
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="kanji-dictionary" role="tabpanel" aria-labelledby="kanji-dictionary-tab">
            <div class="row">
                <div class="col-3"><label for="kanjiComponents">Kanji Components</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiComponents" data-config-option="showKanjiComponents" /></div>

                <div class="col-3"><label for="kanjiHalpern">Halpern</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiHalpern" data-config-option="showKanjiHalpern"/></div>

                <div class="col-3"><label for="kanjiHeisig">Heisig</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiHeisig" data-config-option="showKanjiHeisig"/></div>

                <div class="col-3"><label for="kanjiHenshall">Henshall</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiHenshall" data-config-option="showKanjiHenshall"/></div>

                <div class="col-3"><label for="kanjiLearnersDictionary">Kanji Learners Dictionary</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiLearnersDictionary" data-config-option="showKanjiLearnersDictionary" /></div>

                <div class="col-3"><label for="kanjiNelson">Nelson</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiNelson" data-config-option="showKanjiNelson" /></div>

                <div class="col-3"><label for="kanjiNewNelson">New Nelson</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiNewNelson" data-config-option="showKanjiNewNelson" /></div>

                <div class="col-3"><label for="kanjiPinYin">PinYin</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiPinYin" data-config-option="showKanjiPinYin" /></div>

                <div class="col-3"><label for="kanjiSkipPattern">Skip Pattern</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiSkipPattern" data-config-option="showKanjiSkipPattern" /></div>

                <div class="col-3"><label for="kanjiTurtleAndKana">Turtle Kanji & Kana</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiTurtleAndKana" data-config-option="showKanjiTurtleAndKana"/></div>

                <div class="col-3"><label for="kanjiTurtleDictionary">Turtle Dictionary</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiTurtleDictionary" data-config-option="showKanjiTurtleDictionary" /></div>

                <div class="col-3"><label for="kanjiUnicode">Unicode</label></div>
                <div class="col-3"><input type="checkbox" id="kanjiUnicode" data-config-option="showKanjiUnicode" /></div>
            </div>
        </div>
        <div class="tab-pane fade" id="epwing" role="tabpanel" aria-labelledby="epwing-tab">
            <h4><b>Installing Epwing</b></h4>
            To install epwing, please download and extract <a href="https://github.com/Garethp/epwing-lookup/raw/master/epwing.zip">zip file</a>, then run the
            install script for your operating system. It doesn't copy any executables to any directories, so you need to keep the folder where it is.
            If you accidentally move or delete the folder, just get the zip again, extract to the desired location and re-run the install script.

            <hr />
            <form class="form-group">
                <div class="row">
                    <div class="col-3">
                        <label title="The path for the Dictionary File" for="epwing-dictionary-path"
                               class="col-form-label">Dictionary Path</label>
                    </div>
                    <div class="col-7">
                        <input type="text" id="epwing-dictionary-path" class="form-control"
                               data-config-option="epwingDictionaries" data-config-map="mapEpwingPathToDictionaries"/>
                    </div>
                </div>
                <div id="epwing-dictionary-path-error" class="alert alert-danger" role="alert"></div>

                <h4><b>Keymap</b></h4>
                <div class="card card-body">
                    <div class="row">
                        <div class="col-3">
                            <label class="my1-1 mr-2" for="keymap-epwingPreviousEntry">Previous Entry</label>
                        </div>
                        <div class="col-3">
                            <input type="text" class="form-control keymap-input" id="keymap-epwingPreviousEntry" />
                        </div>
                        <div class="col-3">
                            <label class="my1-1 mr-2" for="keymap-epwingNextEntry">Next Entry</label>
                        </div>
                        <div class="col-3">
                            <input type="text" class="form-control keymap-input" id="keymap-epwingNextEntry" />
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="tab-pane fade" id="anki" role="tabpanel" aria-labelledby="anki-tab">
            <div>In order to use this, please install this <b>updated</b>
                <a href="https://ankiweb.net/shared/info/1659361456">Real-Time Import plugin</a> for Anki. Don't worry,
                it
                will still work with Rikaisama if you use that in a different browser
            </div>
            <form class="form-group">
                <div class="row">
                    <div class="col-3">
                        <label title="The fields for the Card that will be created in Anki" for="fields"
                               class="col-form-label">Card Fields</label></div>
                    <div class="col-7">
                        <input type="text" id="fields" class="form-control" data-config-option="ankiFields"
                               data-config-map="makeAnkiFields">
                    </div>
                </div>

                <div class="row">
                    <div class="col-3">
                        <label title="Tags to add to anki (Separated by spaces)" for="ankiTags"
                               class="col-form-label">Anki Tags</label></div>
                    <div class="col-3">
                        <input type="text" id="ankiTags" class="form-control" data-config-option="ankiTags">
                    </div>
                </div>

                <div class="row">
                    <div class="col-3">
                        <label for="importEmptyAudio" class="form-check-label"
                               title="When importing, if there's no audio to download we can fill the field with the location of the file where the audio would be, or just leave it empty">Fill
                            Audio Field Even When
                            There's No Audio</label>
                    </div>
                    <div class="col-3">
                        <input type="checkbox" id="importEmptyAudio" class="" data-config-option="importEmptyAudio"/>
                    </div>
                </div>
            </form>

            Example: <code>Vocabulary=dictionaryFormat; Reading=reading; Definition=definition; Audio=audio</code>
            <hr/>

            Options:
            <ul class="anki-field-options">
                <li title="This field is where the audio file is injected">audio</li>
                <li title="The dictionary format of the word">dictionaryFormat</li>
                <li title="Just the word that you've selected">word</li>
                <li title="The reading of the word">reading</li>
                <li>saveNotes</li>
                <li title="The sentence that the word you selected appears in">sentence</li>
                <li title="The setence that the word you selected appears in, with the selected word replaced with _'s">
                    sentenceWithBlank
                </li>
                <li title="The url of the page you saved the word form">sourceUrl</li>
                <li title="The titel fo the page you saved the word from">pageTitle</li>
                <li title="The definition of the selected word">definition</li>
                <li>frequency</li>
                <li>pitch</li>
            </ul>
        </div>
        <div class="tab-pane fade" id="changelog" role="tabpanel" aria-labelledby="changelog-tab">
            <h4>Version 1.1.4</h4>
            <ul>
                <li>Previous bug about incorrect icon was not solved. This should solve it.</li>
            </ul>

            <h4>Version 1.1.3</h4>
            <ul>
                <li>Included support for Typescript by including Webpack. Hopefully won't cause issues</li>
                <li>Fixed annoying bug where the icon wouldn't reset on start, making the icon look like it was enabled when it wasn't</li>
            </ul>

            <h4>Version 1.1.2</h4>
            <ul>
                <li>Added in some more error messages for epwing, and preventing people from entering /CATALOGS</li>
            </ul>

            <h4>Version 1.1.1</h4>
            <ul>
                <li>Fixing Epwing popup showing constantly, because of course I'd forget to fix that before releasing</li>
            </ul>

            <h4>Version 1.1.0</h4>
            <ul>
                <li>Very basic EPWING support. Probably has some bugs</li>
            </ul>

            <h4>Version 1.0.26</h4>
            <ul>
                <li>Small fixes in the Sanseido Mode Fallback</li>
            </ul>

            <h4>Version 1.0.25</h4>
            <ul>
                <li>Added Kanji dictionary</li>
            </ul>

            <h4>Version 1.0.24</h4>
            <ul>
                <li>Fixed an issue with pitches that were preventing Anki imports</li>
            </ul>

            <h4>Version 1.0.23</h4>
            <ul>
                <li>Change call to Sanseido to work over HTTPS</li>
            </ul>

            <h4>Version 1.0.22</h4>
            <ul>
                <li>Added Sanseido Mode</li>
            </ul>

            <h4>Version 1.0.21</h4>
            <ul>
                <li>Added a pitch accent option</li>
            </ul>

            <h4>Version 1.0.20</h4>
            <ul>
                <li>Drastically reduce the amount of memory used to install a dictionary</li>
            </ul>

            <h4>Version 1.0.19</h4>
            <ul>
                <li>Setting options to sync between browsers. You may need to uninstall and reinstall your addon after
                    this update
                </li>
                <li>You can now have the options page open while you use the application</li>
                <li>Made the progress bar for importing dictionaries actually show the progress</li>
                <li>Added a volume option for playing sound</li>
            </ul>

            <h4>Version 1.0.18</h4>
            <ul>
                <li>Fixed broken Anki Import</li>
            </ul>

            <h4>Version 1.0.17</h4>
            <ul>
                <li>Hopefully fixed some issues regarding text selection in form fields</li>
            </ul>

            <h4>Version 1.0.16</h4>
            <ul>
                <li>Fixed popup positioning</li>
            </ul>

            <h4>Version 1.0.15</h4>
            <ul>
                <li>Added theme selections</li>
                <li>Allow adding multiple values to a field with space separation</li>
            </ul>
        </div>
    </div>

    <form>
        <button type='button' class='btn btn-primary' id='resetPreferences'>Reset</button>
        <button type='button' class='btn' id='showConfig'>Show Config</button>
    </form>

    <pre><code id="configArea" style="display: none;"></code></pre>
</div>
<script src="./jquery.js"></script>
<script src="./bootstrap.min.js"></script>
<script src="./bootstrap.bundle.min.js"></script>
<script src="../lib/browser-polyfill.min.js"></script>
<script src="../build/options.js"></script>
</body>

</html>
